
import {useEffect} from "react";
import {useDispatch} from "react-redux";
import {addMovies} from "../utils/createMoviesSlice.js";

const useMoviesList = () => {
   
   const dispatch = useDispatch();
    const getMovieDetails = async() => {
       
       const data = await fetch("https://www.omdbapi.com/?apikey=bacc90f2&s=Batman"); 
       const json = await data.json();
       console.log(json);

        dispatch(addMovies(json));

    }
    useEffect(()=> {
        getMovieDetails();

    },[]);

}

export default useMoviesList;